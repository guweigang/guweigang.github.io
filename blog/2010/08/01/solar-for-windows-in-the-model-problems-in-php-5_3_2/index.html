<!DOCTYPE html>
<html lang="en-us">
<head>
  <title>solar for windows在php 5.3.2中模型问题 - Gu Weigang</title>
  <meta charset="utf-8" />
  <meta name="author" content="Gu Weigang" />
  <meta name="description" content="" />
  <meta name="keywords" content="" />

  <link rel="alternate" title="RSS Feed" href="/rss.xml" type="application/rss+xml">

  <link rel="stylesheet" href="/media/css/main.css" type="text/css">
  <link rel="stylesheet" href="/media/css/prettify.css" type="text/css">
</head>

  <body class="container">
<header id="header">
  <h1 class="title"><a href="/">Gu Weigang</a></h1>
  <ul>
    <li><a href="/blog/">Blog</a></li>
    <li><a href="/tags/">Tags</a></li>
    <li><a href="/about/">About</a></li>
  </ul>
  <form method="get" id="search" action="https://duckduckgo.com">
    <input type="text" class="field" name="q" id="s" placeholder="Search">
    <input type="hidden" name="as_sitesearch" value="guweigang.com">
  </form>
</header>

<section id="content" role="main">
  <h1>solar for windows在php 5.3.2中模型问题</h1>
  <p>
昨天<a href="http://www.miandan.net">life</a>在做<a href="http://www.miandan.net">免单站</a>前台用户登陆的时候碰到了极大的问题，因为免单站以社区为基础，所以涉及到用户之前的操作及关系相当地多，请看模型中的关系：
</p>


<pre class="example">
    $this-&gt;_hasOne('user_detail');
$this-&gt;_hasOne('balance');
$this-&gt;_hasMany('friends');
$this-&gt;_hasMany('suggestions');
$this-&gt;_hasMany('groups');
$this-&gt;_hasMany('flows');
$this-&gt;_hasMany('user_expresses');
$this-&gt;_hasMany('orders');
$this-&gt;_hasMany('message_products');
$this-&gt;_hasMany('roles');
$this-&gt;_hasMany('relations');
$this-&gt;_hasMany('wishes');
$this-&gt;_hasMany('message_users');
$this-&gt;_hasMany('accesses');
</pre>



<p>
在用户注册同时要初始化balance和user\_detail模型，结果是可以成功插入users模型，但是users模型的主键却不能插入到balance和user\_detail中，每次都是0值，调试了一下午，最后我在自己本本上也做了测试，不过在我这里很正常，把代码都给他，还是不行，最后我开始怀疑MySQ版本，life开始怀疑PHP版本。。。最后是PHP版本的问题，他的PHP版本是5.3.2，我的是5.3.1。。。
</p>

<p>
所以写篇博文mark一下，目前要使用solar for windows的话，PHP不要升级到5.3.2.
</p>

</section>



<footer id="footer">
    Send comments, critique and suggestions to <a href="mailto:guweigang &lt;at&gt; outlook &lt;dot&gt; com">Gu Weigang</a>.
    Powered by <a href="https://github.com/kelvinh/org-page">org-page</a>
</footer>

  </body>
</html>
